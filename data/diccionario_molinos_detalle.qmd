---
author: "Angel - Grupo 1"
title: "DATASET OVERVIEW - M√°quina de bolas"
format:
    html:
        toc: true
        toc-location: left
margin: 0
code-fold: true
fig-width: 7.5
---

## 1. CONTEXTO DE LOS MOLINOS DE BOLAS EN LA MINER√çA

| ![](./assets/molino-de-bolas-01.jpg) | 
|:--:| 
| *Molino de bolas* |

### 1.1 ¬øQu√© son los Molinos de Bolas?

Los molinos de bolas son equipos cil√≠ndricos horizontales rotatorios que constituyen la **etapa final cr√≠tica del proceso de conminuci√≥n** en operaciones mineras. Estos equipos utilizan bolas de acero como medio de molienda para reducir el tama√±o de part√≠cula del mineral desde aproximadamente 12-15 mm hasta el rango ultrafino de 75-180 Œºm, tama√±o √≥ptimo para los procesos de concentraci√≥n por flotaci√≥n.

#### Principio de Funcionamiento
- **Mecanismo**: Las bolas de acero (40-100 mm di√°metro) dentro del cilindro rotatorio (5.5m √ó 7.0m) trituran el mineral mediante **impacto** (ca√≠da desde altura) y **atrici√≥n** (fricci√≥n entre bolas y mineral)
- **Velocidad cr√≠tica**: Operan al 67-83% de la velocidad cr√≠tica (Vc = 42.3/‚àöD metros)
- **Carga t√≠pica**: 30-35% del volumen interno ocupado por bolas de acero

#### Especificaciones T√©cnicas MineraPeru
- **Dimensiones**: 5.5m di√°metro √ó 7.0m largo
- **Potencia instalada**: 1,500-2,200 kW por molino
- **Capacidad**: 280-400 t/h por molino
- **Medio de molienda**: Bolas de acero forjado de alta dureza


[//]: # (![](./assets/molino-de-bolas-01.jpg))

| ![](./assets/molino.jpg) | 
|:--:| 
| *Molino de bolas - interior* |

### 1.2 Ubicaci√≥n en el Proceso de Chancado-Molienda

Los molinos de bolas operan en la **etapa secundaria de molienda**, formando parte integral del circuito de conminuci√≥n:

```
PROCESO COMPLETO DE CONMINUCI√ìN - MINERAPERU:

[ETAPA PRIMARIA - CHANCADO]
Mineral ROM (Run of Mine) ‚Üí Chancadora Primaria de Mand√≠bulas (1500√ó2100mm)
‚Üì
[ETAPA SECUNDARIA - CHANCADO]  
Chancadoras Secundarias C√≥nicas (3 unidades) ‚Üí Chancadoras Terciarias (2 unidades)
‚Üì
[ETAPA PRIMARIA - MOLIENDA]
Molino SAG Semi-Aut√≥geno (12m √ó 15MW) - Reduce a 12-15mm
‚Üì
[ETAPA SECUNDARIA - MOLIENDA] ‚Üê AQU√ç OPERAN LOS MOLINOS DE BOLAS
6 Molinos de Bolas (5.5m √ó 7.0m) en PARALELO - Reducen a 75-180Œºm
‚Üì
[CLASIFICACI√ìN]
Sistema de Hidrociclones (16 bater√≠as √ó 12 ciclones) - Separaci√≥n por tama√±o
‚Üì
[CONCENTRACI√ìN]
Circuito de Flotaci√≥n ‚Üí Concentrado de Cu-Mo + Relaves
```

### 1.3 Funci√≥n Cr√≠tica en el Proceso Minero

#### Objetivos Operacionales
1. **Reducci√≥n de tama√±o**: De 12-15mm (salida SAG) a 120¬±20Œºm (P80 objetivo)
2. **Liberaci√≥n mineral**: Separar minerales valiosos (Cu, Mo) de ganga
3. **Preparaci√≥n para flotaci√≥n**: Tama√±o √≥ptimo para recuperaci√≥n metal√∫rgica m√°xima

#### Impacto en la Cadena de Valor
- **Upstream**: Recibe todo el material procesado por el molino SAG
- **Downstream**: Determina la **recuperaci√≥n metal√∫rgica** en flotaci√≥n (85.4% actual vs 91% target)
- **Energ√©tico**: Consume 35% de la energ√≠a total de la concentradora
- **Econ√≥mico**: Cada 1% mejora en P80 = +US$14.5M anuales en ingresos

### 1.4 Desaf√≠os Operacionales Espec√≠ficos

#### Problem√°tica Actual en MineraPeru
1. **Eficiencia sub√≥ptima**: 76.3% vs 82.1% benchmark industria
2. **Consumo energ√©tico elevado**: 34.7 kWh/t vs est√°ndar sectorial  
3. **Downtime no planificado**: 17.2% (incremento 23% en 2 a√±os)
4. **Variabilidad granulom√©trica**: œÉ = 28.4% vs target

#### Consecuencias Econ√≥micas
- **Costo oportunidad**: US$25,000-45,000 por hora de parada
- **Sobrecosto energ√©tico**: US$2.8M anuales por ineficiencia
- **Mantenimiento correctivo**: US$42.3M anuales (21.5% del presupuesto)
- **P√©rdida de throughput**: 14,500 t/mes bajo capacidad nominal

---

## 2. RESUMEN EJECUTIVO

### 2.1 Contexto del Proyecto
MineraPeru enfrenta desaf√≠os cr√≠ticos en la optimizaci√≥n de sus 6 molinos de bolas, equipos fundamentales que procesan 2,100-2,400 t/h de mineral y representan el 35% del consumo energ√©tico total de la planta. El objetivo es desarrollar un sistema predictivo para anticipar fallas cr√≠ticas y optimizar el consumo energ√©tico mediante t√©cnicas avanzadas de machine learning.

### 2.2 Dataset Generado - Caracter√≠sticas Principales
- **Registros totales**: 131,478 observaciones
- **Variables**: 64 campos especializados
- **Per√≠odo temporal**: 2.5 a√±os (2023-2025)
- **Molinos monitoreados**: 6 unidades (M1-M6)
- **Frecuencia de muestreo**: Aproximadamente cada 12-16 horas
- **Eventos de falla**: ~4.2% de registros con fallas en ventana de 7 d√≠as

---

## 2. ARQUITECTURA DEL PROCESO DE CHANCADO-MOLIENDA

### 2.1 Ubicaci√≥n en el Proceso Minero
Los molinos de bolas operan en la etapa final del circuito de molienda, recibiendo material del molino SAG y enviando producto clasificado a la flotaci√≥n:

```
Chancado Primario ‚Üí Chancado Secundario ‚Üí Chancado Terciario ‚Üí 
Molino SAG ‚Üí MOLINOS DE BOLAS ‚Üí Hidrociclones ‚Üí Flotaci√≥n
```

### 2.2 Criticidad Operacional

| Aspecto | Impacto | M√©trica |
|---------|---------|---------|
| **Throughput** | Capacidad total de planta | 2,100-2,400 t/h |
| **Disponibilidad** | Una falla reduce capacidad | ~17% (1/6 molinos) |
| **Energ√≠a** | Consumo energ√©tico cr√≠tico | 35% del total de planta |
| **Costo por parada** | P√©rdida por hora no programada | US$25,000-45,000 |
| **Mantenimiento** | Costos anuales | US$7M repuestos + mano obra |

### 2.3 Componentes Cr√≠ticos Monitoreados

#### Estructura Principal
- **Shell/Casco**: Cilindro rotatorio 5.5m √ó 7.0m con revestimientos internos
- **Cojinetes principales**: Rodamientos de alimentaci√≥n y descarga
- **Sistema de transmisi√≥n**: Motor 1,500-2,200 kW + reductor + pi√±√≥n

#### Sistemas Auxiliares Cr√≠ticos
- **Lubricaci√≥n**: Sistema de aceite para cojinetes (presi√≥n 2.0-3.5 bar)
- **Alimentaci√≥n**: Control de flujo de mineral y agua de proceso
- **Descarga**: Sistema de overflow hacia clasificaci√≥n

---

## 3. DICCIONARIO COMPLETO DE VARIABLES DEL DATASET

### 3.1 VARIABLES DE IDENTIFICACI√ìN Y TEMPORALES

| Variable | Tipo | Valores | Descripci√≥n | Criticidad |
|----------|------|---------|-------------|------------|
| `timestamp` | datetime | 2023-01-01 a 2025-06-30 | Marca temporal de la observaci√≥n | **CR√çTICA** |
| `molino_id` | categorical | M1, M2, M3, M4, M5, M6 | Identificador √∫nico del molino | **CR√çTICA** |
| `turno` | categorical | A, B, C | Turno operativo (A: 00-08h, B: 08-16h, C: 16-24h) | **MEDIA** |

**An√°lisis real del dataset:**
- Distribuci√≥n temporal: Cobertura completa del per√≠odo 2023-2025
- Representaci√≥n equitativa de los 6 molinos
- Balance entre turnos A, B, C

### 3.2 VARIABLES DE PROCESO OPERACIONAL

#### 3.2.1 Variables Controlables (Optimizaci√≥n)

| Variable | Unidad | Rango Observado | Rango √ìptimo | Descripci√≥n T√©cnica | Impacto |
|----------|--------|----------------|--------------|---------------------|---------|
| `feed_rate` | t/h | 180-350 | 250-320 | Tonelaje de alimentaci√≥n de mineral al molino | **CR√çTICO** - Determina throughput y consumo energ√©tico |
| `velocidad_rotacion` | RPM | 12.5-17.5 | 13.5-15.0 | Velocidad de rotaci√≥n del cilindro del molino | **ALTO** - Afecta intensidad de molienda |
| `velocidad_porcentaje_critica` | % | 70-85 | 74-78 | Porcentaje de la velocidad cr√≠tica de operaci√≥n | **ALTO** - Determina r√©gimen de molienda |
| `nivel_carga_bolas` | % | 28-36 | 30-34 | Porcentaje del volumen interno ocupado por bolas | **ALTO** - Balance impacto vs capacidad |
| `densidad_pulpa` | % s√≥lidos | 68-78 | 70-75 | Concentraci√≥n de s√≥lidos en la pulpa | **MEDIO** - Afecta reolog√≠a |
| `agua_adicionada` | m¬≥/h | 25-65 | 35-55 | Caudal de agua fresca adicionada | **MEDIO** - Control de densidad |
| `presion_ciclones` | kPa | 60-140 | 80-120 | Presi√≥n de alimentaci√≥n a hidrociclones | **ALTO** - Determina corte de clasificaci√≥n |

#### 3.2.2 Variables de Performance

| Variable | Unidad | Rango | Target | Descripci√≥n |
|----------|--------|-------|--------|-------------|
| `consumo_energetico_especifico` | kWh/t | 8-18 | <12 | Energ√≠a consumida por tonelada procesada |
| `throughput_real` | t/h | 120-400 | >280 | Producci√≥n real efectiva del molino |
| `eficiencia_molienda` | % | 65-85 | >78 | Eficiencia vs condiciones te√≥ricas ideales |
| `granulometria_producto_p80` | Œºm | 75-180 | 120¬±15 | Tama√±o donde pasa el 80% del producto |

### 3.3 VARIABLES DE CONDITION MONITORING

#### 3.3.1 Sensores de Vibraci√≥n (Predicci√≥n de Fallas)

| Variable | Unidad | Normal | Alarma | Descripci√≥n T√©cnica | Patolog√≠a Detectada |
|----------|--------|--------|--------|---------------------|---------------------|
| `vibracion_cojinete_feed_h` | mm/s | 1.5-4.5 | >8.0 | Vibraci√≥n horizontal en cojinete de alimentaci√≥n | Desbalance, desalineaci√≥n |
| `vibracion_cojinete_feed_v` | mm/s | 1.2-4.0 | >7.5 | Vibraci√≥n vertical en cojinete de alimentaci√≥n | Deterioro de rodamientos |
| `vibracion_cojinete_discharge_h` | mm/s | 1.8-5.0 | >9.0 | Vibraci√≥n horizontal en cojinete de descarga | Desbalance, mayor carga |
| `vibracion_cojinete_discharge_v` | mm/s | 1.5-4.5 | >8.5 | Vibraci√≥n vertical en cojinete de descarga | Deterioro rodamientos |
| `vibracion_shell_h` | mm/s | 2.0-6.0 | >12.0 | Vibraci√≥n horizontal del casco del molino | Estado liners, balance carga |
| `vibracion_shell_v` | mm/s | 2.2-6.5 | >13.0 | Vibraci√≥n vertical del casco | Desbalance de carga |
| `vibracion_pinion` | mm/s | 3.0-8.0 | >15.0 | Vibraci√≥n del pi√±√≥n de transmisi√≥n | Problemas de engranaje |
| `vibracion_gearbox` | mm/s | 2.5-7.0 | >12.0 | Vibraci√≥n de la caja reductora | Desgaste interno |

**Frecuencias Caracter√≠sticas de Falla (Literatura T√©cnica):**

- **BPFO** (Ball Pass Frequency Outer): Paso de bolas por pista exterior
- **BPFI** (Ball Pass Frequency Inner): Paso de bolas por pista interior
- **BSF** (Ball Spin Frequency): Frecuencia de giro de bolas
- **FTF** (Fundamental Train Frequency): Frecuencia del separador

#### 3.3.2 Sensores de Temperatura

| Variable | Unidad | Normal | Alarma | Descripci√≥n | Indicador de |
|----------|--------|--------|--------|-------------|-------------|
| `temp_cojinete_feed` | ¬∞C | 40-65 | >80 | Temperatura del cojinete de alimentaci√≥n | Lubricaci√≥n, fricci√≥n |
| `temp_cojinete_discharge` | ¬∞C | 42-68 | >82 | Temperatura del cojinete de descarga | Estado rodamientos |
| `temp_aceite_lubricacion` | ¬∞C | 45-60 | >75 | Temperatura del aceite de lubricaci√≥n | Calidad lubricaci√≥n |
| `temp_motor_principal` | ¬∞C | 50-75 | >90 | Temperatura de devanados del motor | Carga el√©ctrica |
| `temp_gearbox` | ¬∞C | 45-65 | >80 | Temperatura interna del reductor | Fricci√≥n interna |

#### 3.3.3 Variables El√©ctricas

| Variable | Unidad | Rango Normal | Descripci√≥n | Uso en Diagn√≥stico |
|----------|--------|--------------|-------------|-------------------|
| `corriente_motor` | A | 400-900 | Corriente consumida por motor principal | Indicador de carga mec√°nica |
| `potencia_activa` | kW | 800-2200 | Potencia real consumida | Eficiencia energ√©tica |
| `voltaje_motor` | V | 4140-4180 | Voltaje de alimentaci√≥n | Calidad suministro el√©ctrico |
| `factor_potencia` | - | 0.87-0.93 | Relaci√≥n potencia activa/aparente | Eficiencia el√©ctrica |

#### 3.3.4 Sistema de Lubricaci√≥n

| Variable | Unidad | Normal | Cr√≠tico | Descripci√≥n |
|----------|--------|--------|---------|-------------|
| `presion_aceite_principal` | bar | 2.0-3.5 | <1.5 | Presi√≥n del sistema de lubricaci√≥n |
| `flujo_aceite` | L/min | 80-150 | <60 | Caudal de aceite circulante |
| `nivel_tanque_aceite` | % | 40-90 | <30 | Nivel en tanque principal |
| `calidad_aceite_ppm` | ppm | 0-15 | >25 | Part√≠culas contaminantes |

### 3.4 CARACTER√çSTICAS DEL MINERAL

#### 3.4.1 Propiedades F√≠sicas

| Variable | Unidad | Rango | Descripci√≥n | Impacto en Molienda |
|----------|--------|-------|-------------|-------------------|
| `work_index_bond` | kWh/t | 10-20 | √çndice de trabajo de Bond | **CR√çTICO** - Determina energ√≠a requerida |
| `dureza_mineral` | Mohs | 3.5-6.5 | Dureza en escala de Mohs | **ALTO** - Afecta desgaste y energ√≠a |
| `humedad_mineral` | % | 5-11 | Contenido de humedad natural | **BAJO** - Afecta manejo |
| `granulometria_feed_p80` | Œºm | 9000-14000 | Tama√±o 80% pasante alimentaci√≥n | **ALTO** - Determina trabajo requerido |
| `densidad_mineral` | t/m¬≥ | 2.7-3.8 | Densidad espec√≠fica | **MEDIO** - Afecta comportamiento pulpa |
| `contenido_arcillas` | % | 0-12 | Porcentaje de minerales arcillosos | **MEDIO** - Afecta reolog√≠a |
| `abrasividad_ai` | - | 0.15-0.65 | √çndice de abrasividad | **ALTO** - Desgaste medios molienda |

### 3.5 VARIABLES DE ESTADO Y CONTEXTO

| Variable | Unidad | Rango | Descripci√≥n |
|----------|--------|-------|-------------|
| `nivel_desgaste_liners` | % | 0-80 | Porcentaje de desgaste de revestimientos |
| `horas_operacion_acumuladas` | h | 0-22000 | Horas desde √∫ltimo mantenimiento mayor |
| `ciclos_arranque_parada` | count | 0-5 | N√∫mero de arranques/paradas por per√≠odo |
| `carga_circulante` | % | 150-400 | Porcentaje de carga circulante en circuito |
| `eficiencia_clasificacion` | % | 45-75 | Eficiencia de los hidrociclones |
| `temperatura_ambiente` | ¬∞C | 15-35 | Temperatura ambiente (sierra peruana) |
| `humedad_relativa` | % | 40-85 | Humedad relativa del ambiente |

### 3.6 VARIABLES TARGET PARA MACHINE LEARNING

#### 3.6.1 Predicci√≥n de Fallas

| Variable | Tipo | Distribuci√≥n Real | Descripci√≥n | Uso en Modelo |
|----------|------|------------------|-------------|---------------|
| `falla_en_7d` | boolean | ~4.2% True | Ocurrir√° falla en pr√≥ximos 7 d√≠as | **Target principal** clasificaci√≥n |
| `falla_en_14d` | boolean | ~6.8% True | Ocurrir√° falla en pr√≥ximos 14 d√≠as | Target secundario |
| `falla_en_30d` | boolean | ~11.5% True | Ocurrir√° falla en pr√≥ximos 30 d√≠as | Target largo plazo |
| `tipo_falla` | categorical | Ver distribuci√≥n abajo | Tipo espec√≠fico de falla | **Target** clasificaci√≥n multiclase |
| `severidad_falla` | ordinal | 1-3 | Severidad [1=menor, 2=moderada, 3=cr√≠tica] | Priorizaci√≥n mantenimiento |
| `dias_hasta_falla` | float | 0-365 | D√≠as hasta pr√≥xima falla | **Target** regresi√≥n |

**Distribuci√≥n Real de Tipos de Falla (en muestra analizada):**
- `bearing_feed`: 57.1% (fallas en cojinete alimentaci√≥n)
- `bearing_discharge`: 35.7% (fallas en cojinete descarga)  
- `lubrication`: 2.4% (fallas sistema lubricaci√≥n)
- `liner_wear`: 4.8% (desgaste excesivo de liners)

#### 3.6.2 L√≥gica Detallada de Variables Target

##### **A. Variables Binarias de Ventana Temporal (`falla_en_7d`, `falla_en_14d`, `falla_en_30d`)**

Estas variables funcionan como **"ventana deslizante hacia el futuro"**:

```python
# Para cada timestamp, pregunta:
# "¬øOcurrir√° una falla en los pr√≥ximos N d√≠as desde este momento?"

if (failure_time - current_timestamp).days <= N:
    falla_en_Nd = True
else:
    falla_en_Nd = False
```

**Ejemplo temporal pr√°ctico:**
```
Timeline de eventos:
2024-01-01 00:00 ‚Üí falla_en_7d = False (falla programada en 10 d√≠as)
2024-01-04 00:00 ‚Üí falla_en_7d = True  (falla programada en 7 d√≠as)
2024-01-05 00:00 ‚Üí falla_en_7d = True  (falla programada en 6 d√≠as)
2024-01-10 00:00 ‚Üí falla_en_7d = True  (falla programada en 1 d√≠a)
2024-01-11 12:00 ‚Üí FALLA OCURRE
2024-01-12 00:00 ‚Üí falla_en_7d = False (no hay fallas pr√≥ximas)
```

**Caracter√≠sticas clave:**
- **Independencia**: Cada registro es independiente
- **Balance**: ~4.2% de registros True para ventana 7 d√≠as
- **M√∫ltiples fallas**: Un molino puede tener varias fallas programadas

##### **B. Variable de Tiempo Hasta Falla (`dias_hasta_falla`)**

Esta variable **se "reinicia" despu√©s de cada falla** buscando autom√°ticamente la siguiente:

```python
def calculate_days_to_failure(timestamp, all_future_failures):
    """
    Para cada timestamp, encuentra la PR√ìXIMA falla en el futuro
    y calcula cu√°ntos d√≠as faltan
    """
    future_failures = [f for f in all_future_failures if f.time > timestamp]
    
    if future_failures:
        next_failure = min(future_failures, key=lambda x: x.time)
        days_until = (next_failure.time - timestamp).days
        return days_until
    else:
        return 365  # Si no hay fallas pr√≥ximas, valor m√°ximo
```

**Ejemplo con m√∫ltiples fallas programadas:**
```
Timeline con 2 fallas para un molino:
- Falla A: 2024-01-15 (bearing_feed)
- Falla B: 2024-03-20 (liner_wear)

2024-01-01 ‚Üí dias_hasta_falla = 14  (hacia Falla A)
2024-01-10 ‚Üí dias_hasta_falla = 5   (hacia Falla A)
2024-01-15 ‚Üí FALLA A OCURRE
2024-01-16 ‚Üí dias_hasta_falla = 63  (hacia Falla B - SE REINICIA)
2024-02-15 ‚Üí dias_hasta_falla = 33  (hacia Falla B)
2024-03-20 ‚Üí FALLA B OCURRE
2024-03-21 ‚Üí dias_hasta_falla = 365 (no hay m√°s fallas programadas)
```

**Comportamiento autom√°tico:**
- **Reinicio**: Despu√©s de cada falla, busca autom√°ticamente la siguiente
- **M√∫ltiples tipos**: No distingue tipos de falla, siempre busca la m√°s cercana
- **Valor m√°ximo**: 365 d√≠as cuando no hay fallas futuras programadas

##### **C. Variable de Tipo de Falla (`tipo_falla`)**

```python
# Solo se activa cuando hay falla inminente
if falla_en_30d == True:
    tipo_falla = failure_type  # bearing_feed, bearing_discharge, etc.
else:
    tipo_falla = 'normal'      # Operaci√≥n normal
```

**Distribuci√≥n por tipo:**
- **Rodamientos** (92.8%): bearing_feed + bearing_discharge
- **Sistemas auxiliares** (7.2%): lubrication + liner_wear

##### **D. Verificaci√≥n en el Dataset Real**

Para verificar esta l√≥gica en el dataset generado:

```python
import pandas as pd

# Cargar y filtrar por molino
df = pd.read_csv('molinos_mineraperu_dataset.csv', parse_dates=['timestamp'])
molino_data = df[df['molino_id'] == 'M1'].sort_values('timestamp')

# Encontrar transiciones de falla
falla_events = molino_data[molino_data['falla_en_7d'] == True]

# Verificar reinicio de dias_hasta_falla
for idx, event in falla_events.head(2).iterrows():
    timestamp = event['timestamp']
    dias_antes = event['dias_hasta_falla']
    
    # Ver d√≠as despu√©s del evento
    after_event = molino_data[molino_data['timestamp'] > timestamp].head(1)
    if not after_event.empty:
        dias_despues = after_event['dias_hasta_falla'].iloc[0]
        print(f"Antes: {dias_antes} d√≠as ‚Üí Despu√©s: {dias_despues} d√≠as")
```

#### 3.6.3 Implicaciones para Machine Learning

##### **Para Modelos de Clasificaci√≥n:**
- **Target**: `falla_en_7d` (binario) o `tipo_falla` (multiclase)
- **Caracter√≠sticas**: Desbalanceado (4.2% positivos)
- **Ventana de acci√≥n**: 7 d√≠as para intervenci√≥n preventiva

##### **Para Modelos de Regresi√≥n:**
- **Target**: `dias_hasta_falla` (continuo 0-365)
- **Interpretaci√≥n**: "Tiempo estimado hasta pr√≥ximo mantenimiento"
- **Planificaci√≥n**: Permite programaci√≥n optimizada de recursos

##### **Para Sistemas H√≠bridos:**
- **Combinaci√≥n**: Usar ambos enfoques para mayor robustez
- **Alarmas tempranas**: dias_hasta_falla < 30 ‚Üí iniciar monitoreo intensivo
- **Alarmas cr√≠ticas**: falla_en_7d = True ‚Üí intervenci√≥n inmediata

### 3.7 VARIABLES DERIVADAS Y FEATURES ENGINEERED

#### 3.7.1 Tendencias Temporales

| Variable | Descripci√≥n | Ventana | Uso |
|----------|-------------|---------|-----|
| `vibracion_trend_7d` | Tendencia de vibraci√≥n 7 d√≠as | 168h | Detecci√≥n degradaci√≥n gradual |
| `temperatura_trend_7d` | Tendencia de temperatura 7 d√≠as | 168h | Monitoreo t√©rmico |
| `energia_trend_24h` | Tendencia energ√©tica 24 horas | 24h | Eficiencia operacional |
| `throughput_trend_24h` | Tendencia de producci√≥n 24 horas | 24h | Performance productiva |

#### 3.7.2 Ratios y M√©tricas Compuestas

| Variable | F√≥rmula | Interpretaci√≥n |
|----------|---------|----------------|
| `ratio_p80_feed_producto` | F80/P80 | Factor de reducci√≥n de tama√±o |
| `potencia_especifica_neta` | Potencia/Throughput | kW por tonelada procesada |
| `eficiencia_energetica_teorica` | E_Bond/E_real | Eficiencia vs teor√≠a de Bond |

#### 3.7.3 Scores de Anomal√≠a

| Variable | M√©todo | Interpretaci√≥n |
|----------|--------|----------------|
| `anomaly_score_vibration` | Z-score | Desviaci√≥n de patr√≥n vibracional normal |
| `anomaly_score_electrical` | Z-score | Anomal√≠a en variables el√©ctricas |

---

## 4. CORRELACIONES F√çSICAS IMPLEMENTADAS

### 4.1 Ley de Bond (Fundamental)
```
E = 10 √ó Wi √ó (1/‚àöP80 - 1/‚àöF80)
```
**Implementaci√≥n**: Determina el consumo energ√©tico te√≥rico basado en caracter√≠sticas del mineral y granulometr√≠a objetivo.

### 4.2 Velocidad Cr√≠tica
```
Vc = 42.3/‚àöD (donde D = di√°metro en metros)
```
**Para molinos 5.5m**: Vc = 18.0 RPM  
**Operaci√≥n √≥ptima**: 74-78% de velocidad cr√≠tica

### 4.3 Correlaciones de Degradaci√≥n

#### Rodamientos
- **Patr√≥n**: Crecimiento exponencial en vibraciones espec√≠ficas (BPFO/BPFI)
- **Horizonte**: 15-45 d√≠as de se√±ales precursoras
- **Severidad**: Incremento hasta 4x el valor normal antes de falla

#### Liners
- **Patr√≥n**: Incremento lineal en consumo energ√©tico
- **Horizonte**: 60-180 d√≠as de degradaci√≥n gradual
- **Impacto**: Hasta 15% incremento en energ√≠a espec√≠fica

---

## 5. ARQUITECTURA T√âCNICA DEL DATASET

### 5.1 Estructura y Dimensiones Reales

```
üìä DATASET PRINCIPAL
‚îú‚îÄ‚îÄ Registros: 131,478
‚îú‚îÄ‚îÄ Variables: 64 campos
‚îú‚îÄ‚îÄ Per√≠odo: 2.5 a√±os (2023-2025)
‚îú‚îÄ‚îÄ Molinos: 6 unidades (M1-M6)
‚îú‚îÄ‚îÄ Frecuencia: ~12-16 horas
‚îî‚îÄ‚îÄ Formato: CSV, separado por comas
```

### 5.2 Distribuci√≥n Temporal y Espacial

| Molino | Registros | % Total | √öltima Observaci√≥n |
|---------|-----------|---------|-------------------|
| M1 | ~21,913 | 16.7% | 2025-06-30 |
| M2 | ~21,913 | 16.7% | 2025-06-30 |
| M3 | ~21,913 | 16.7% | 2025-06-30 |
| M4 | ~21,913 | 16.7% | 2025-06-30 |
| M5 | ~21,913 | 16.7% | 2025-06-30 |
| M6 | ~21,913 | 16.7% | 2025-06-30 |

### 5.3 Calidad de Datos

#### Missing Values
- **Sensores cr√≠ticos**: <2% valores faltantes
- **Variables proceso**: <1% valores faltantes  
- **Caracter√≠sticas mineral**: Interpolaci√≥n por lotes

#### Distribuci√≥n de Eventos
- **Operaci√≥n normal**: ~95.8% de registros
- **Fallas en 7d**: ~4.2% de registros
- **Balance por molino**: Distribuido equitativamente

---

## 6. CASOS DE USO ESPEC√çFICOS

### 6.1 Predicci√≥n de Fallas Cr√≠ticas

#### Objetivo Principal
Predecir fallas en ventana de 7 d√≠as con:
- **Precisi√≥n objetivo**: >85%
- **Recall objetivo**: >80%
- **Lead time promedio**: >8 horas

#### Variables Cr√≠ticas Identificadas
1. **Vibraci√≥n cojinetes**: Indicadores m√°s tempranos
2. **Temperaturas**: Confirmaci√≥n de degradaci√≥n
3. **Tendencias 7d**: Patrones de degradaci√≥n gradual
4. **Scores anomal√≠a**: Detecci√≥n de desviaciones

#### Tipos de Falla por Priorizar
1. **Bearing failures** (92.8%): Mayor frecuencia, impacto cr√≠tico
2. **Lubrication issues** (2.4%): Prevenci√≥n total de fallas catastr√≥ficas
3. **Liner wear** (4.8%): Planificaci√≥n de mantenimiento mayor

### 6.2 Optimizaci√≥n Energ√©tica

#### Objetivos de Optimizaci√≥n
- **Minimizar**: `consumo_energetico_especifico` (target <12 kWh/t)
- **Maximizar**: `throughput_real` (target >280 t/h)
- **Mantener**: `granulometria_producto_p80` (120¬±15 Œºm)

#### Variables de Control
- `feed_rate`: Impacto directo en throughput y energ√≠a
- `velocidad_porcentaje_critica`: Balance entre productividad y desgaste
- `densidad_pulpa`: Optimizaci√≥n reol√≥gica
- `presion_ciclones`: Eficiencia de clasificaci√≥n

#### Restricciones Operacionales
- **Potencia m√°xima**: 2,200 kW por molino
- **Velocidad m√°xima**: 85% velocidad cr√≠tica
- **Calidad producto**: P80 entre 100-150 Œºm

---

## 7. METODOLOG√çA DE MODELADO RECOMENDADA

### 7.1 Para Predicci√≥n de Fallas

#### Preprocesamiento
```python
# Variables clave para modelos de falla
failure_features = [
    'vibracion_cojinete_feed_h', 'vibracion_cojinete_discharge_h',
    'temp_cojinete_feed', 'temp_cojinete_discharge',
    'vibracion_trend_7d', 'temperatura_trend_7d',
    'anomaly_score_vibration', 'horas_operacion_acumuladas'
]

# Target balanceado: 4.2% fallas
target = 'falla_en_7d'
```

#### Modelos Recomendados
1. **Random Forest**: Manejo de desbalance, interpretabilidad
2. **XGBoost**: Performance superior, feature importance
3. **LSTM**: Patrones temporales complejos
4. **Ensemble**: Combinaci√≥n para robustez

#### Validaci√≥n
- **Time-series split**: Evitar data leakage
- **Stratified by mill**: Validaci√≥n cruzada por molino
- **M√©tricas**: F1-score, AUC-ROC, Precision@K

### 7.2 Para Optimizaci√≥n Energ√©tica

#### Features de Entrada
```python
optimization_features = [
    'feed_rate', 'velocidad_porcentaje_critica', 'densidad_pulpa',
    'work_index_bond', 'dureza_mineral', 'granulometria_feed_p80',
    'nivel_desgaste_liners', 'presion_ciclones'
]

# Target continuo
target = 'consumo_energetico_especifico'
```

#### Enfoques de Modelado
1. **Regresi√≥n multiobjetivo**: Energ√≠a + Throughput + Calidad
2. **Reinforcement Learning**: Control adaptativo
3. **Modelos f√≠sicos h√≠bridos**: Bond equation + ML corrections

---

## 8. IMPLEMENTACI√ìN Y VALIDACI√ìN

### 8.1 Pipeline de Datos

```python
import pandas as pd

# Cargar dataset
df = pd.read_csv('molinos_mineraperu_dataset.csv', 
                 parse_dates=['timestamp'])

# Filtros de calidad
df = df[df['consumo_energetico_especifico'] < 25]  # Outliers energ√©ticos
df = df[df['vibracion_cojinete_feed_h'] < 15]      # Outliers vibracionales

# Feature engineering adicional
df['energia_normalizada'] = df['consumo_energetico_especifico'] / df['work_index_bond']
df['carga_relativa_motor'] = df['corriente_motor'] / 1000  # Normalizar
```

### 8.2 M√©tricas de Validaci√≥n del Realismo

#### Correlaciones F√≠sicas Verificadas ‚úÖ
- **Potencia vs Throughput**: r > 0.75
- **Work Index vs Energ√≠a**: r > 0.68
- **Vibraci√≥n vs Temperatura**: r > 0.45
- **Velocidad vs Consumo**: Curva √≥ptima en 76% Vc

#### Distribuciones Realistas ‚úÖ
- **Energ√≠a espec√≠fica**: 8-18 kWh/t (dentro de literatura)
- **Vibraci√≥n cojinetes**: 1.5-8.5 mm/s (norma ISO 10816)
- **Temperaturas**: 40-80¬∞C (rangos operacionales t√≠picos)

---

## 9. PR√ìXIMOS PASOS Y RECOMENDACIONES

### 9.1 Modelado Inmediato
1. **An√°lisis exploratorio detallado** por molino individual
2. **Baseline models** para predicci√≥n de fallas
3. **Optimizaci√≥n energ√©tica** con enfoques multi-objetivo

### 9.2 Validaci√≥n Avanzada
1. **Simulaci√≥n de escenarios** operacionales extremos
2. **Validaci√≥n con expertos** de dominio minero
3. **Benchmarking** con literatura t√©cnica adicional

### 9.3 Expansi√≥n del Dataset
1. **M√°s eventos de falla** para tipos menos frecuentes
2. **Condiciones operacionales extremas** (paradas, arranques)
3. **Variables adicionales** (an√°lisis de aceite, desgaste espec√≠fico)

---

## 10. CONCLUSIONES

El dataset sint√©tico generado para MineraPeru representa una base s√≥lida y t√©cnicamente robusta para abordar los desaf√≠os de predicci√≥n de fallas y optimizaci√≥n energ√©tica en molinos de bolas. Con 131,478 registros y 64 variables especializadas, proporciona la riqueza de datos necesaria para desarrollar modelos de machine learning efectivos que puedan traducirse en beneficios operacionales y econ√≥micos tangibles.

La arquitectura h√≠brida del dataset permite flexibilidad para abordar tanto problemas de clasificaci√≥n (predicci√≥n de fallas) como de optimizaci√≥n continua (eficiencia energ√©tica), manteniendo la fidelidad a las correlaciones f√≠sicas fundamentales del proceso de molienda y los patrones reales de degradaci√≥n de equipos en la industria minera.

---

**Documento actualizado**: Enero 2025  
**Versi√≥n**: 2.0  
**Autor**: Data Science Team - Proyecto MineraPeru

---

## ANEXO: RESUMEN COMPLETO DE VARIABLES DEL DATASET

### Tabla Consolidada de las 64 Variables

| # | Variable | Tipo | Descripci√≥n Corta |
|---|----------|------|-------------------|
| 1 | `timestamp` | datetime | Marca temporal de la observaci√≥n |
| 2 | `molino_id` | categorical | Identificador del molino (M1-M6) |
| 3 | `turno` | categorical | Turno operativo (A, B, C) |
| 4 | `feed_rate` | float | Tonelaje de alimentaci√≥n (t/h) |
| 5 | `velocidad_rotacion` | float | Velocidad de rotaci√≥n del molino (RPM) |
| 6 | `velocidad_porcentaje_critica` | float | Porcentaje de velocidad cr√≠tica (%) |
| 7 | `nivel_carga_bolas` | float | Porcentaje de llenado con bolas (%) |
| 8 | `densidad_pulpa` | float | Concentraci√≥n de s√≥lidos en pulpa (%) |
| 9 | `agua_adicionada` | float | Caudal de agua fresca (m¬≥/h) |
| 10 | `presion_ciclones` | float | Presi√≥n alimentaci√≥n hidrociclones (kPa) |
| 11 | `vibracion_cojinete_feed_h` | float | Vibraci√≥n horizontal cojinete alimentaci√≥n (mm/s) |
| 12 | `vibracion_cojinete_feed_v` | float | Vibraci√≥n vertical cojinete alimentaci√≥n (mm/s) |
| 13 | `vibracion_cojinete_discharge_h` | float | Vibraci√≥n horizontal cojinete descarga (mm/s) |
| 14 | `vibracion_cojinete_discharge_v` | float | Vibraci√≥n vertical cojinete descarga (mm/s) |
| 15 | `vibracion_shell_h` | float | Vibraci√≥n horizontal del casco (mm/s) |
| 16 | `vibracion_shell_v` | float | Vibraci√≥n vertical del casco (mm/s) |
| 17 | `vibracion_pinion` | float | Vibraci√≥n del pi√±√≥n de transmisi√≥n (mm/s) |
| 18 | `vibracion_gearbox` | float | Vibraci√≥n de la caja reductora (mm/s) |
| 19 | `temp_cojinete_feed` | float | Temperatura cojinete alimentaci√≥n (¬∞C) |
| 20 | `temp_cojinete_discharge` | float | Temperatura cojinete descarga (¬∞C) |
| 21 | `temp_aceite_lubricacion` | float | Temperatura aceite lubricaci√≥n (¬∞C) |
| 22 | `temp_motor_principal` | float | Temperatura motor principal (¬∞C) |
| 23 | `temp_gearbox` | float | Temperatura caja reductora (¬∞C) |
| 24 | `corriente_motor` | float | Corriente consumida motor (A) |
| 25 | `potencia_activa` | float | Potencia real consumida (kW) |
| 26 | `voltaje_motor` | float | Voltaje de alimentaci√≥n motor (V) |
| 27 | `factor_potencia` | float | Factor de potencia el√©ctrica (-) |
| 28 | `presion_aceite_principal` | float | Presi√≥n sistema lubricaci√≥n (bar) |
| 29 | `flujo_aceite` | float | Caudal aceite circulante (L/min) |
| 30 | `nivel_tanque_aceite` | float | Nivel tanque lubricaci√≥n (%) |
| 31 | `calidad_aceite_ppm` | float | Contaminaci√≥n aceite (ppm) |
| 32 | `consumo_energetico_especifico` | float | Energ√≠a por tonelada procesada (kWh/t) |
| 33 | `throughput_real` | float | Producci√≥n real efectiva (t/h) |
| 34 | `eficiencia_molienda` | float | Eficiencia vs condiciones ideales (%) |
| 35 | `granulometria_producto_p80` | float | Tama√±o 80% pasante producto (Œºm) |
| 36 | `nivel_desgaste_liners` | float | Desgaste revestimientos internos (%) |
| 37 | `horas_operacion_acumuladas` | integer | Horas desde √∫ltimo mantenimiento mayor |
| 38 | `ciclos_arranque_parada` | integer | N√∫mero arranques/paradas por per√≠odo |
| 39 | `carga_circulante` | float | Carga circulante en circuito (%) |
| 40 | `eficiencia_clasificacion` | float | Eficiencia hidrociclones (%) |
| 41 | `work_index_bond` | float | √çndice trabajo Bond del mineral (kWh/t) |
| 42 | `dureza_mineral` | float | Dureza en escala Mohs |
| 43 | `humedad_mineral` | float | Contenido humedad natural (%) |
| 44 | `granulometria_feed_p80` | float | Tama√±o 80% pasante alimentaci√≥n (Œºm) |
| 45 | `densidad_mineral` | float | Densidad espec√≠fica mineral (t/m¬≥) |
| 46 | `contenido_arcillas` | float | Porcentaje minerales arcillosos (%) |
| 47 | `abrasividad_ai` | float | √çndice abrasividad mineral (-) |
| 48 | `temperatura_ambiente` | float | Temperatura ambiental (¬∞C) |
| 49 | `humedad_relativa` | float | Humedad relativa ambiente (%) |
| 50 | `falla_en_7d` | boolean | Ocurrir√° falla en pr√≥ximos 7 d√≠as |
| 51 | `falla_en_14d` | boolean | Ocurrir√° falla en pr√≥ximos 14 d√≠as |
| 52 | `falla_en_30d` | boolean | Ocurrir√° falla en pr√≥ximos 30 d√≠as |
| 53 | `tipo_falla` | categorical | Tipo espec√≠fico de falla |
| 54 | `severidad_falla` | integer | Severidad falla (1=menor, 2=moderada, 3=cr√≠tica) |
| 55 | `dias_hasta_falla` | float | D√≠as hasta pr√≥xima falla |
| 56 | `vibracion_trend_7d` | float | Tendencia vibraci√≥n 7 d√≠as |
| 57 | `temperatura_trend_7d` | float | Tendencia temperatura 7 d√≠as |
| 58 | `energia_trend_24h` | float | Tendencia energ√©tica 24 horas |
| 59 | `throughput_trend_24h` | float | Tendencia producci√≥n 24 horas |
| 60 | `ratio_p80_feed_producto` | float | Factor reducci√≥n tama√±o |
| 61 | `potencia_especifica_neta` | float | kW por tonelada procesada |
| 62 | `eficiencia_energetica_teorica` | float | Eficiencia vs teor√≠a Bond |
| 63 | `anomaly_score_vibration` | float | Score anomal√≠a patr√≥n vibracional |
| 64 | `anomaly_score_electrical` | float | Score anomal√≠a variables el√©ctricas |

### Categorizaci√≥n por Uso Principal

#### Variables de Identificaci√≥n (3)
Variables 1-3: `timestamp`, `molino_id`, `turno`

#### Variables de Proceso Controlables (7) 
Variables 4-10: Par√°metros operacionales ajustables para optimizaci√≥n

#### Variables Condition Monitoring (21)
Variables 11-31: Sensores cr√≠ticos para predicci√≥n de fallas
- Vibraci√≥n (8 variables): 11-18
- Temperatura (5 variables): 19-23  
- El√©ctricas (4 variables): 24-27
- Lubricaci√≥n (4 variables): 28-31

#### Variables de Performance (9)
Variables 32-40: Indicadores de eficiencia y productividad

#### Caracter√≠sticas del Mineral (9)
Variables 41-49: Propiedades del material procesado

#### Variables Target ML (6)
Variables 50-55: Objetivos para modelos predictivos

#### Features Derivadas (9) 
Variables 56-64: Variables calculadas y scores de anomal√≠a

**Total: 64 variables especializadas para an√°lisis integral de molinos de bolas**